/* ------------------------------------------- */
/*               Font Import                   */
/* ------------------------------------------- */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap");

/* ------------------------------------------- */
/*             Tailwind & Config               */
/* ------------------------------------------- */
@import "tailwindcss";
/* config for tailwindcss-typography plugin */
@config "../../tailwind.config.ts";

/* use a selector-based strategy for dark mode */
@variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* ------------------------------------------- */
/*               Theme Variables               */
/* ------------------------------------------- */
@theme {
  /* typography */
  --font-sans: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

  /* neutrals */
  --color-global-bg:   oklch(98.48% 0 0);
  --color-global-text: oklch(26.99% 0.0096 235.05);

  /* complementary pair: orange vs cyan */
  --color-accent:      oklch(50%   0.20   40);   /* orange */
  --color-quote:       oklch(50%   0.20   40);   /* orange */
  --color-link:        oklch(55%   0.20  220);   /* cyan */
  --color-accent-2:    oklch(18.15% 0      0);   /* neutral dark */
}

/* ------------------------------------------- */
/*                 Base Layer                  */
/* ------------------------------------------- */
@layer base {
  html {
    color-scheme: light dark;
    accent-color: var(--color-accent);
    scrollbar-gutter: stable;

    /* typography defaults */
    font-family: var(--font-sans);
    line-height: 1.6;
    letter-spacing: 0.005em;

    &[data-theme="light"] {
      color-scheme: light;
    }

    &[data-theme="dark"] {
      color-scheme: dark;
      /* dark neutrals */
      --color-global-bg:   oklch(23.64% 0.0045 248);
      --color-global-text: oklch(83.54% 0 264);

      /* complementary accents in dark mode */
      --color-accent:      oklch(70%   0.20   40);
      --color-quote:       oklch(70%   0.20   40);
      --color-link:        oklch(70%   0.20  220);
      --color-accent-2:    oklch(94.66% 0      0);
    }
  }

  body {
    margin: 0;
    background-color: var(--color-global-bg);
    color: var(--color-global-text);
  }

  :target {
    scroll-margin-block: 5ex;
  }

  @view-transition {
    navigation: auto;
  }

  /* Astro image responsive styles */
  :where([data-astro-image]) {
    object-fit: var(--fit);
    object-position: var(--pos);
  }
  [data-astro-image="full-width"] {
    width: 100%;
  }
  [data-astro-image="constrained"] {
    max-width: 100%;
  }
}

/* ------------------------------------------- */
/*               Component Layer               */
/* ------------------------------------------- */
@layer components {
  @import "./components/admonition.css";
  @import "./components/github-card.css";

  .cactus-link {
    /* slim cyan underline */
    @apply decoration-link underline underline-offset-2 decoration-1 hover:opacity-80;
  }

  .title {
    @apply text-accent-2 text-2xl font-semibold;
  }
}

/* ------------------------------------------- */
/*                Prose Utilities              */
/* ------------------------------------------- */
@utility prose {
  --tw-prose-body:       var(--color-global-text);
  --tw-prose-bold:       var(--color-global-text);
  --tw-prose-bullets:    var(--color-global-text);
  --tw-prose-code:       var(--color-global-text);
  --tw-prose-headings:   var(--color-accent-2);
  --tw-prose-hr:         0.5px dashed #666;
  --tw-prose-links:      var(--color-link);
  --tw-prose-quotes:     var(--color-quote);
  --tw-prose-th-borders: #666;
}


code::before,
code::after {
  content: none !important;
}
code {
   @apply font-semibold;
}
